<!DOCTYPE html>
<html>
<head>
  <title>Bluetooth Example</title>
</head>
<body>
  <button id="scan">Scan for Bluetooth Device</button>
  <pre id="output"></pre>

  <script>
    const button = document.getElementById('scan');
    const output = document.getElementById('output');

    button.addEventListener('click', async () => {
      try {
        // Request a Bluetooth device (no filters = shows all available devices)
        const device = await navigator.bluetooth.requestDevice({
          acceptAllDevices: true
          // Or filter by services:
          // filters: [{ services: ['battery_service'] }]
        });

        output.textContent = `Selected device: ${device.name || 'Unnamed'}\nID: ${device.id}`;

        // Optionally connect to the GATT server
        const server = await device.gatt.connect();
        output.textContent += `\nConnected to GATT server: ${server.connected}`;
      } catch (error) {
        output.textContent = `Error: ${error}`;
      }
    });
  </script>
</body>
</html>
